(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],m=0,d=[];m<s.length;m++)o=s[m],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"00c5":function(e,t,r){"use strict";var n=r("e1c6"),a=r.n(n);a.a},"07e5":function(e,t,r){"use strict";var n=r("b187"),a=r.n(n);a.a},"1a4c":function(e,t,r){},2250:function(e,t,r){},"3d66":function(e,t,r){"use strict";var n=r("1a4c"),a=r.n(n);a.a},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="4678"},"4a5e":function(e,t,r){"use strict";var n=r("2250"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("4de4"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=r("c1df"),i=r.n(a),o=r("bc3a"),s=r.n(o),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return"success"===e.state?r("v-app",{staticClass:"app"},[e.user?r("EditDialog",{attrs:{"save-button-text":"Save",title:"Change password","event-name":"i-user"},scopedSlots:e._u([{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("ChangePasswordForm",{attrs:{"project-id":e.projectId,"item-id":e.user.id,"need-save":i,"need-reset":o},on:{save:n,error:a}})]}}],null,!1,1540666743),model:{value:e.passwordDialog,callback:function(t){e.passwordDialog=t},expression:"passwordDialog"}}):e._e(),e.user?r("EditDialog",{attrs:{"save-button-text":"Save",title:"Edit User","event-name":"i-user"},scopedSlots:e._u([{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("UserForm",{attrs:{"project-id":e.projectId,"item-id":e.user.id,"need-save":i,"need-reset":o},on:{save:n,error:a}})]}}],null,!1,3036806143),model:{value:e.userDialog,callback:function(t){e.userDialog=t},expression:"userDialog"}}):e._e(),r("EditDialog",{attrs:{"save-button-text":"Delete","max-width":1e3,"hide-buttons":!0},on:{close:function(t){return e.onTaskLogDialogClosed()}},scopedSlots:e._u([{key:"title",fn:function(t){return[r("router-link",{staticClass:"breadcrumbs__item breadcrumbs__item--link",attrs:{to:"/project/"+e.projectId+"/templates/"+(e.template?e.template.id:null)},on:{click:function(t){e.taskLogDialog=!1}}},[e._v(e._s(e.template?e.template.alias:null))]),r("v-icon",[e._v("mdi-chevron-right")]),r("span",{staticClass:"breadcrumbs__item"},[e._v("Task #"+e._s(e.task?e.task.id:null))]),r("v-spacer"),r("v-btn",{attrs:{icon:""}},[r("v-icon",{on:{click:function(t){e.taskLogDialog=!1,e.onTaskLogDialogClosed()}}},[e._v("mdi-close")])],1)]}},{key:"form",fn:function(t){return[r("TaskLogView",{attrs:{"project-id":e.projectId,"item-id":e.task?e.task.id:null}})]}}],null,!1,448195666),model:{value:e.taskLogDialog,callback:function(t){e.taskLogDialog=t},expression:"taskLogDialog"}}),r("EditDialog",{attrs:{"save-button-text":"Create",title:"New Project","event-name":"i-project"},scopedSlots:e._u([{key:"form",fn:function(e){var t=e.onSave,n=e.onError,a=e.needSave,i=e.needReset;return[r("ProjectForm",{attrs:{"item-id":"new","need-save":a,"need-reset":i},on:{save:t,error:n}})]}}],null,!1,4121900462),model:{value:e.newProjectDialog,callback:function(t){e.newProjectDialog=t},expression:"newProjectDialog"}}),r("v-snackbar",{attrs:{color:e.snackbarColor,timeout:3e3,top:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snackbarText)+" "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},[e._v(" Close ")])],1),e.$route.path.startsWith("/project/")?r("v-navigation-drawer",{attrs:{app:"",dark:"",color:"#005057",fixed:"",width:"260","mobile-breakpoint":"960"},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-menu",{attrs:{top:"","max-width":"235","nudge-top":"12"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-list",{staticClass:"pa-0"},[r("v-list-item",e._g(e._b({key:"project"},"v-list-item",a,!1),n),[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(e.user.name))])],1)],1)],1)]}}],null,!1,2989402144)},[r("v-list",[r("v-list-item",{key:"users",attrs:{to:"/users"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-multiple")])],1),r("v-list-item-content",[e._v(" Users ")])],1),r("v-list-item",{key:"edit",on:{click:function(t){e.userDialog=!0}}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-pencil")])],1),r("v-list-item-content",[e._v(" Edit Account ")])],1),r("v-list-item",{key:"password",on:{click:function(t){e.passwordDialog=!0}}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-lock")])],1),r("v-list-item-content",[e._v(" Change Password ")])],1),r("v-list-item",{key:"sign_out",on:{click:function(t){return e.signOut()}}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-exit-to-app")])],1),r("v-list-item-content",[e._v(" Sign Out ")])],1)],1)],1)]},proxy:!0}],null,!1,3427165270),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[e.project?r("v-menu",{attrs:{bottom:"","max-width":"235","max-height":"100%"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-list",{staticClass:"pa-0 overflow-y-auto"},[r("v-list-item",e._g(e._b({key:"project",staticClass:"app__project-selector"},"v-list-item",a,!1),n),[r("v-list-item-icon",[r("v-avatar",{staticStyle:{"font-size":"13px","font-weight":"bold"},attrs:{color:e.getProjectColor(e.project),size:"24"}},[r("span",{staticClass:"white--text"},[e._v(e._s(e.getProjectInitials(e.project)))])])],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"app__project-selector-title"},[e._v(" "+e._s(e.project.name)+" ")])],1),r("v-list-item-icon",[r("v-icon",[e._v("mdi-chevron-down")])],1)],1)],1)]}}],null,!1,73063203)},[r("v-list",[e._l(e.projects,(function(t,n){return r("v-list-item",{key:n,attrs:{to:"/project/"+t.id},on:{click:function(r){return e.selectProject(t.id)}}},[r("v-list-item-icon",[r("v-avatar",{staticStyle:{"font-size":"13px","font-weight":"bold"},attrs:{color:e.getProjectColor(t),size:"24"}},[r("span",{staticClass:"white--text"},[e._v(e._s(e.getProjectInitials(t)))])])],1),r("v-list-item-content",[e._v(e._s(t.name))])],1)})),r("v-list-item",{on:{click:function(t){e.newProjectDialog=!0}}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-plus")])],1),r("v-list-item-content",[e._v(" New project... ")])],1)],2)],1):e._e(),e.project?e._e():r("v-list",{staticClass:"pt-0"},[r("v-list-item",{key:"new_project",attrs:{to:"/project/new"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-plus")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("New Project")])],1)],1)],1),e.project?r("v-list",{staticClass:"pt-0"},[r("v-list-item",{key:"dashboard",attrs:{to:"/project/"+e.projectId+"/history"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-view-dashboard")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Dashboard")])],1)],1),r("v-list-item",{key:"templates",attrs:{to:"/project/"+e.projectId+"/templates"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-check-all")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Task Templates")])],1)],1),r("v-list-item",{key:"inventory",attrs:{to:"/project/"+e.projectId+"/inventory"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-monitor-multiple")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Inventory")])],1)],1),r("v-list-item",{key:"environment",attrs:{to:"/project/"+e.projectId+"/environment"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-code-braces")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Environment")])],1)],1),r("v-list-item",{key:"keys",attrs:{to:"/project/"+e.projectId+"/keys"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-key-change")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Key Store")])],1)],1),r("v-list-item",{key:"repositories",attrs:{to:"/project/"+e.projectId+"/repositories"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-git")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Playbook Repositories")])],1)],1),r("v-list-item",{key:"team",attrs:{to:"/project/"+e.projectId+"/team"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-multiple")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Team")])],1)],1)],1):e._e()],1):e._e(),r("v-main",[r("router-view",{attrs:{projectId:e.projectId,userId:e.user?e.user.id:null}})],1)],1):"loading"===e.state?r("v-app",[r("v-main",[r("v-container",{staticClass:"pa-0",attrs:{fluid:"","fill-height":"","align-center":"","justify-center":""}},[r("v-progress-circular",{attrs:{size:70,color:"primary",indeterminate:""}})],1)],1)],1):"error"===e.state?r("v-app",[r("v-main",[r("v-container",{staticClass:"pa-0 text-center",attrs:{fluid:"","flex-column":"","fill-height":"","align-center":"","justify-center":""}},[r("v-alert",{staticClass:"d-inline-block",attrs:{text:"",color:"error"}},[r("h3",{staticClass:"headline"},[e._v(" Error ")]),e._v(" "+e._s(e.snackbarText)+" ")]),r("div",{staticClass:"mb-6"},[r("v-btn",{attrs:{text:"",color:"blue darken-1"},on:{click:function(t){return e.refreshPage()}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-refresh")]),e._v(" Refresh Page ")],1),r("v-btn",{attrs:{text:"",color:"blue darken-1"},on:{click:function(t){return e.signOut()}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-exit-to-app")]),e._v(" Relogin ")],1)],1)],1)],1)],1):r("v-app")},l=[],u=(r("99af"),r("7db0"),r("c740"),r("caad"),r("45fc"),r("b0c0"),r("ac1f"),r("2532"),r("5319"),r("1276"),r("2ca0"),r("5530")),m=(r("96cf"),r("1da1"));function d(e){return e.response&&e.response.data&&e.response.data.error||e.message}var v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":e.maxWidth||400,persistent:"",transition:!1,"content-class":"item-dialog item-dialog--"+e.position},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._t("title",[e._v(e._s(e.title))])],2),r("v-card-text",{staticClass:"pb-0"},[e._t("form",null,{onSave:e.close,onError:e.clearFlags,needSave:e.needSave,needReset:e.needReset})],2),e.hideButtons?e._e():r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.close()}}},[e._v(" Cancel ")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.needSave=!0}}},[e._v(" "+e._s(e.saveButtonText)+" ")])],1)],1)],1)},p=[],f=(r("a9e3"),new n["a"]),h={props:{position:String,title:String,saveButtonText:String,value:Boolean,maxWidth:Number,eventName:String,hideButtons:Boolean},data:function(){return{dialog:!1,needSave:!1,needReset:!1}},watch:{dialog:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$emit("input",e),t.needReset=e;case 2:case"end":return r.stop()}}),r)})))()},value:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.dialog=e;case 1:case"end":return r.stop()}}),r)})))()}},methods:{close:function(e){this.dialog=!1,this.clearFlags(),e&&(this.$emit("save",e),this.eventName&&f.$emit(this.eventName,e)),this.$emit("close")},clearFlags:function(){this.needSave=!1,this.needReset=!1}}},b=h,g=(r("4a5e"),r("2877")),j=r("6544"),k=r.n(j),w=r("8336"),x=r("b0af"),y=r("99d9"),_=r("169a"),I=r("2fa4"),S=Object(g["a"])(b,v,p,!1,null,null,null),V=S.exports;k()(S,{VBtn:w["a"],VCard:x["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VDialog:_["a"],VSpacer:I["a"]});var D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",{staticClass:"pa-0 mb-2"},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[r("v-list",{staticClass:"pa-0",attrs:{"two-line":"",subheader:""}},[r("v-list-item",{staticClass:"pa-0"},[r("v-list-item-content",[r("div",[r("TaskStatus",{attrs:{status:e.item.status}})],1)])],1)],1)],1),r("v-col",[r("v-list",{staticClass:"pa-0",attrs:{"two-line":"",subheader:""}},[r("v-list-item",{staticClass:"pa-0"},[r("v-list-item-content",[r("v-list-item-title",[e._v("Author")]),r("v-list-item-subtitle",[e._v(e._s(e.user.name))])],1)],1)],1)],1),r("v-col",[r("v-list",{staticClass:"pa-0",attrs:{"two-line":"",subheader:""}},[r("v-list-item",{staticClass:"pa-0"},[r("v-list-item-content",[r("v-list-item-title",[e._v("Started")]),r("v-list-item-subtitle",[e._v(" "+e._s(e._f("formatDate")(e.item.start))+" ")])],1)],1)],1)],1),r("v-col",[r("v-list-item",{staticClass:"pa-0"},[r("v-list-item-content",[r("v-list-item-title",[e._v("Duration")]),r("v-list-item-subtitle",[e._v(" "+e._s(e._f("formatMilliseconds")([e.item.start,e.item.end]))+" ")])],1)],1)],1)],1)],1),r("div",{ref:"output",staticClass:"task-log-view"},e._l(e.output,(function(t){return r("div",{key:t.id,staticClass:"task-log-view__record"},[r("div",{staticClass:"task-log-view__time"},[e._v(" "+e._s(e._f("formatTime")(t.time))+" ")]),r("div",{staticClass:"task-log-view__output"},[e._v(e._s(t.output))])])})),0)],1)},T=[],R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.status?r("v-chip",{staticStyle:{"font-weight":"bold"},attrs:{color:e.getStatusColor(e.status)}},["running"!==e.status?r("v-icon",{attrs:{left:""}},[e._v(e._s(e.getStatusIcon(e.status)))]):r("IndeterminateProgressCircular",{staticStyle:{"margin-left":"-5px"}}),e._v(" "+e._s(e.humanizeStatus(e.status))+" ")],1):e._e()},O=[],C=(r("dca8"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-progress-circular",{staticClass:"indeterminate-progress-circular mr-2",attrs:{color:"white",size:"20",width:"10",rotate:e.rotate,value:e.value}})}),E=[],$=r("d4ec"),N=r("bee2"),P=r("45eb"),U=r("7e84"),A=r("262e"),L=r("2caf"),q=(r("a4d3"),r("e01a"),r("4160"),r("b64b"),r("d3b7"),r("159b"),function(){function e(){Object($["a"])(this,e),this.listeners={}}return Object(N["a"])(e,[{key:"addListener",value:function(e){var t=Symbol();return this.listeners[t]=e,t}},{key:"removeListener",value:function(e){return null!=this.listeners[e]&&(delete this.listeners[e],!0)}},{key:"callListeners",value:function(e){var t=this;Object.getOwnPropertySymbols(this.listeners).forEach((function(r){var n=t.listeners[r];n(e)}))}},{key:"hasListeners",value:function(){return Object.keys(this.listeners).length>0}}]),e}()),F=function(e){Object(A["a"])(r,e);var t=Object(L["a"])(r);function r(){var e;return Object($["a"])(this,r),e=t.call(this),e.direction=1,e.value=0,e.rotate=0,e}return Object(N["a"])(r,[{key:"start",value:function(){var e=1,t=this;t.valueTimer=setInterval((function(){1===t.direction&&t.value>=100?t.direction=-1:-1===t.direction&&t.value<=0&&(t.direction=1),1===t.direction?(t.rotate+=e,t.value+=e):(t.rotate+=5*e,t.value+=-e),t.rotate>360&&(t.rotate%=360),t.callListeners({value:t.value,rotate:t.rotate})}),50)}},{key:"stop",value:function(){clearInterval(this.valueTimer)}},{key:"addListener",value:function(e){return this.hasListeners()||this.start(),Object(P["a"])(Object(U["a"])(r.prototype),"addListener",this).call(this,e)}},{key:"removeListener",value:function(e){Object(P["a"])(Object(U["a"])(r.prototype),"removeListener",this).call(this,e),this.hasListeners()||this.stop()}}]),r}(q),z=new F,B={data:function(){return{value:null,rotate:null,listenerId:null}},mounted:function(){var e=this;this.value=z.value,this.rotate=z.rotate,this.listenerId=z.addListener((function(t){var r=t.value,n=t.rotate;e.value=r,e.rotate=n}))},beforeDestroy:function(){z.removeListener(this.listenerId)}},M=B,H=(r("3d66"),r("490a")),K=Object(g["a"])(M,C,E,!1,null,null,null),W=K.exports;k()(K,{VProgressCircular:H["a"]});var Y=Object.freeze({WAITING:"waiting",RUNNING:"running",SUCCESS:"success",ERROR:"error"}),G={components:{IndeterminateProgressCircular:W},props:{status:String},methods:{getStatusIcon:function(e){switch(e){case Y.WAITING:return"mdi-alarm";case Y.RUNNING:return"";case Y.SUCCESS:return"mdi-check-circle";case Y.ERROR:return"mdi-information";default:throw new Error("Unknown task status ".concat(e))}},humanizeStatus:function(e){switch(e){case Y.WAITING:return"Waiting";case Y.RUNNING:return"Running";case Y.SUCCESS:return"Success";case Y.ERROR:return"Failed";default:throw new Error("Unknown task status ".concat(e))}},getStatusColor:function(e){switch(e){case Y.WAITING:return"";case Y.RUNNING:return"primary";case Y.SUCCESS:return"success";case Y.ERROR:return"error";default:throw new Error("Unknown task status ".concat(e))}}}},J=G,X=r("cc20"),Q=r("132d"),Z=Object(g["a"])(J,R,O,!1,null,null,null),ee=Z.exports;k()(Z,{VChip:X["a"],VIcon:Q["a"]});var te=function(e){Object(A["a"])(r,e);var t=Object(L["a"])(r);function r(e){var n;return Object($["a"])(this,r),n=t.call(this),n.websocketCreator=e,n}return Object(N["a"])(r,[{key:"start",value:function(){var e=this;if(null!=this.ws)throw new Error("Websocket already started. Please stop it before starting.");this.ws=this.websocketCreator(),this.ws.onclose=function(){e.isRunning()&&(e.ws=null,setTimeout((function(){e.start()}),2e3))},this.ws.onmessage=function(t){var r=t.data;e.callListeners(JSON.parse(r))}}},{key:"isRunning",value:function(){return null!=this.ws}},{key:"stop",value:function(){this.ws&&(this.ws.close(),delete this.ws)}}]),r}(q),re=new te((function(){var e="ws".concat(document.baseURI.substr(4));return new WebSocket("".concat(e,"api/ws"))})),ne=re,ae={components:{TaskStatus:ee},props:{itemId:Number,projectId:Number},data:function(){return{item:{},output:[],user:{}}},watch:{itemId:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.reset(),t.next=3,e.loadData();case 3:case"end":return t.stop()}}),t)})))()},projectId:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.reset(),t.next=3,e.loadData();case 3:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return ne.addListener((function(t){return e.onWebsocketDataReceived(t)})),t.next=3,e.loadData();case 3:case"end":return t.stop()}}),t)})))()},methods:{reset:function(){this.item={},this.output=[],this.user={}},onWebsocketDataReceived:function(e){var t=this;if(e.project_id===this.projectId&&e.task_id===this.itemId)switch(e.type){case"update":Object.assign(this.item,Object(u["a"])(Object(u["a"])({},e),{},{type:void 0}));break;case"log":this.output.push(e),setTimeout((function(){t.$refs.output.scrollTop=t.$refs.output.scrollHeight}),200);break;default:break}},loadData:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s()({method:"get",url:"/api/project/".concat(e.projectId,"/tasks/").concat(e.itemId),responseType:"json"});case 2:return e.item=t.sent.data,t.next=5,s()({method:"get",url:"/api/project/".concat(e.projectId,"/tasks/").concat(e.itemId,"/output"),responseType:"json"});case 5:return e.output=t.sent.data,t.next=8,s()({method:"get",url:"/api/users/".concat(e.item.user_id),responseType:"json"});case 8:e.user=t.sent.data;case 9:case"end":return t.stop()}}),t)})))()}}},ie=ae,oe=(r("00c5"),r("62ad")),se=r("a523"),ce=r("8860"),le=r("da13"),ue=r("5d23"),me=r("0fd9"),de=Object(g["a"])(ie,D,T,!1,null,null,null),ve=de.exports;k()(de,{VCol:oe["a"],VContainer:se["a"],VList:ce["a"],VListItem:le["a"],VListItemContent:ue["a"],VListItemSubtitle:ue["b"],VListItemTitle:ue["c"],VRow:me["a"]});var pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.item?r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-alert",{staticClass:"pb-2",attrs:{value:e.formError,color:"error"}},[e._v(e._s(e.formError))]),r("v-text-field",{attrs:{label:"Project Name",rules:[function(e){return!!e||"Project name is required"}],required:"",disabled:e.formSaving},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),r("v-checkbox",{attrs:{label:"Allow alerts for this project"},model:{value:e.item.alert,callback:function(t){e.$set(e.item,"alert",t)},expression:"item.alert"}}),r("v-text-field",{attrs:{label:"Chat ID",disabled:e.formSaving},model:{value:e.item.alert_chat,callback:function(t){e.$set(e.item,"alert_chat",t)},expression:"item.alert_chat"}})],1):e._e()},fe=[],he={props:{itemId:[Number,String],projectId:[Number,String],needSave:Boolean,needReset:Boolean},data:function(){return{item:null,formValid:!1,formError:null,formSaving:!1}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadData();case 2:case"end":return t.stop()}}),t)})))()},computed:{isNew:function(){return"new"===this.itemId}},watch:{needSave:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=3;break}return r.next=3,t.save();case 3:case"end":return r.stop()}}),r)})))()},needReset:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=3;break}return r.next=3,t.reset();case 3:case"end":return r.stop()}}),r)})))()}},methods:{reset:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.item=null,e.$refs.form&&e.$refs.form.resetValidation(),t.next=4,e.loadData();case 4:case"end":return t.stop()}}),t)})))()},getItemsUrl:function(){throw new Error("Not implemented")},getSingleItemUrl:function(){throw new Error("Not implemented")},loadData:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isNew){t.next=4;break}e.item={},t.next=7;break;case 4:return t.next=6,s()({method:"get",url:e.getSingleItemUrl(),responseType:"json"});case 6:e.item=t.sent.data;case 7:case"end":return t.stop()}}),t)})))()},getRequestOptions:function(){return{}},save:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.formError=null,e.$refs.form.validate()){t.next=4;break}return e.$emit("error",{}),t.abrupt("return",null);case 4:return e.formSaving=!0,t.prev=5,t.next=8,s()(Object(u["a"])({method:e.isNew?"post":"put",url:e.isNew?e.getItemsUrl():e.getSingleItemUrl(),responseType:"json",data:Object(u["a"])(Object(u["a"])({},e.item),{},{project_id:e.projectId})},e.getRequestOptions()));case 8:r=t.sent.data,e.$emit("save",{item:r||e.item,action:e.isNew?"new":"edit"}),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](5),e.formError=d(t.t0),e.$emit("error",{});case 16:return t.prev=16,e.formSaving=!1,t.finish(16);case 19:return t.abrupt("return",r||e.item);case 20:case"end":return t.stop()}}),t,null,[[5,12,16,19]])})))()}}},be={mixins:[he],methods:{getItemsUrl:function(){return"/api/projects"},getSingleItemUrl:function(){return"/api/project/".concat(this.itemId)}}},ge=be,je=r("0798"),ke=r("ac7c"),we=r("4bd4"),xe=r("8654"),ye=Object(g["a"])(ge,pe,fe,!1,null,null,null),_e=ye.exports;k()(ye,{VAlert:je["a"],VCheckbox:ke["a"],VForm:we["a"],VTextField:xe["a"]});var Ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.item?r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-alert",{staticClass:"pb-2",attrs:{value:e.formError,color:"error"}},[e._v(e._s(e.formError))]),r("v-text-field",{attrs:{label:"Name",rules:[function(e){return!!e||"Name is required"}],required:"",disabled:e.formSaving},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),r("v-text-field",{attrs:{label:"Username",rules:[function(e){return!!e||"Username is required"}],required:"",disabled:e.formSaving},model:{value:e.item.username,callback:function(t){e.$set(e.item,"username",t)},expression:"item.username"}}),r("v-text-field",{attrs:{label:"Email",rules:[function(e){return!!e||"Email is required"}],required:"",disabled:e.formSaving},model:{value:e.item.email,callback:function(t){e.$set(e.item,"email",t)},expression:"item.email"}}),r("v-text-field",{attrs:{label:"Password",type:"password",required:e.isNew,rules:e.isNew?[function(e){return!!e||"Password is required"}]:[],disabled:e.formSaving},model:{value:e.item.password,callback:function(t){e.$set(e.item,"password",t)},expression:"item.password"}}),r("v-checkbox",{attrs:{label:"Admin user"},model:{value:e.item.admin,callback:function(t){e.$set(e.item,"admin",t)},expression:"item.admin"}}),r("v-checkbox",{attrs:{label:"Send alerts"},model:{value:e.item.alert,callback:function(t){e.$set(e.item,"alert",t)},expression:"item.alert"}})],1):e._e()},Se=[],Ve={mixins:[he],methods:{getItemsUrl:function(){return"/api/users"},getSingleItemUrl:function(){return"/api/users/".concat(this.itemId)}}},De=Ve,Te=Object(g["a"])(De,Ie,Se,!1,null,null,null),Re=Te.exports;k()(Te,{VAlert:je["a"],VCheckbox:ke["a"],VForm:we["a"],VTextField:xe["a"]});var Oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-alert",{staticClass:"pb-2",attrs:{value:e.formError,color:"error"}},[e._v(e._s(e.formError))]),r("v-text-field",{attrs:{label:"Password",rules:[function(e){return!!e||"Email is required"}],required:"",disabled:e.formSaving},model:{value:e.item.password,callback:function(t){e.$set(e.item,"password",t)},expression:"item.password"}})],1)},Ce=[],Ee={mixins:[he],methods:{loadData:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.item={};case 1:case"end":return t.stop()}}),t)})))()},getItemsUrl:function(){return null},getSingleItemUrl:function(){return null},getRequestOptions:function(){return{method:"post",url:"/api/users/".concat(this.itemId,"/password")}}}},$e=Ee,Ne=Object(g["a"])($e,Oe,Ce,!1,null,null,null),Pe=Ne.exports;k()(Ne,{VAlert:je["a"],VForm:we["a"],VTextField:xe["a"]});var Ue=["red","blue","orange","green"],Ae={name:"App",components:{ChangePasswordForm:Pe,UserForm:Re,EditDialog:V,TaskLogView:ve,ProjectForm:_e},data:function(){return{drawer:null,user:null,state:"loading",snackbar:!1,snackbarText:"",snackbarColor:"",projects:null,newProjectDialog:null,userDialog:null,passwordDialog:null,taskLogDialog:null,task:null,template:null}},watch:{projects:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(0!==e.length||!t.$route.path.startsWith("/project/")||"/project/new"===t.$route.path){r.next=3;break}return r.next=3,t.$router.push({path:"/project/new"});case 3:case"end":return r.stop()}}),r)})))()},$route:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:null==e.query.t?t.taskLogDialog=!1:(n=parseInt(t.$route.query.t||"",10),n&&f.$emit("i-show-task",{taskId:n}));case 1:case"end":return r.stop()}}),r)})))()}},computed:{projectId:function(){return parseInt(this.$route.params.projectId,10)||null},project:function(){var e=this;return this.projects.find((function(t){return t.id===e.projectId}))},isAuthenticated:function(){return document.cookie.includes("semaphore=")}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isAuthenticated){t.next=6;break}if("/auth/login"===e.$route.path){t.next=4;break}return t.next=4,e.$router.push({path:"/auth/login"});case 4:return e.state="success",t.abrupt("return");case 6:return t.prev=6,t.next=9,e.loadData();case 9:e.state="success",t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](6),f.$emit("i-snackbar",{color:"error",text:d(t.t0)}),e.state="error",ne.stop();case 17:case"end":return t.stop()}}),t,null,[[6,12]])})))()},mounted:function(){var e=this;f.$on("i-snackbar",(function(t){e.snackbar=!0,e.snackbarColor=t.color,e.snackbarText=t.text})),f.$on("i-account-change",Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadUserInfo();case 2:case"end":return t.stop()}}),t)})))),f.$on("i-show-drawer",Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.drawer=!0;case 1:case"end":return t.stop()}}),t)})))),f.$on("i-show-task",function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(parseInt(e.$route.query.t||"",10)===r.taskId){t.next=4;break}return n=Object(u["a"])(Object(u["a"])({},e.$route.query),{},{t:r.taskId}),t.next=4,e.$router.replace({query:n});case 4:return t.next=6,s()({method:"get",url:"/api/project/".concat(e.projectId,"/tasks/").concat(r.taskId),responseType:"json"});case 6:return e.task=t.sent.data,t.next=9,s()({method:"get",url:"/api/project/".concat(e.projectId,"/templates/").concat(e.task.template_id),responseType:"json"});case 9:e.template=t.sent.data,e.taskLogDialog=!0;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),f.$on("i-open-last-project",Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.trySelectMostSuitableProject();case 2:case"end":return t.stop()}}),t)})))),f.$on("i-user",function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=r.action,t.next="new"===t.t0?3:"edit"===t.t0?5:"delete"===t.t0?7:9;break;case 3:return n="User ".concat(r.item.name," created"),t.abrupt("break",10);case 5:return n="User ".concat(r.item.name," saved"),t.abrupt("break",10);case 7:return n="User ".concat(r.item.name," deleted"),t.abrupt("break",10);case 9:throw new Error("Unknown project action");case 10:if(f.$emit("i-snackbar",{color:"success",text:n}),!e.user||r.item.id!==e.user.id){t.next=14;break}return t.next=14,e.loadUserInfo();case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),f.$on("i-project",function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(r){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.projects.find((function(e){return e.id===r.item.id}))||r.item,i=a.name||"#".concat(a.id),t.t0=r.action,t.next="new"===t.t0?5:"edit"===t.t0?7:"delete"===t.t0?9:11;break;case 5:return n="Project ".concat(i," created"),t.abrupt("break",12);case 7:return n="Project ".concat(i," saved"),t.abrupt("break",12);case 9:return n="Project ".concat(i," deleted"),t.abrupt("break",12);case 11:throw new Error("Unknown project action");case 12:return f.$emit("i-snackbar",{color:"success",text:n}),t.next=15,e.loadProjects();case 15:t.t1=r.action,t.next="new"===t.t1?18:"delete"===t.t1?21:25;break;case 18:return t.next=20,e.selectProject(r.item.id);case 20:return t.abrupt("break",26);case 21:if(!(e.projectId===r.item.id&&e.projects.length>0)){t.next=24;break}return t.next=24,e.selectProject(e.projects[0].id);case 24:return t.abrupt("break",26);case 25:return t.abrupt("break",26);case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},methods:{onTaskLogDialogClosed:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=Object(u["a"])(Object(u["a"])({},e.$route.query),{},{t:void 0}),t.next=3,e.$router.replace({query:r});case 3:case"end":return t.stop()}}),t)})))()},loadData:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return ne.isRunning()||ne.start(),t.next=3,e.loadUserInfo();case 3:return t.next=5,e.loadProjects();case 5:if("/"!==e.$route.path&&"/project"!==e.$route.path&&!e.$route.path.startsWith("/project/")){t.next=8;break}return t.next=8,e.trySelectMostSuitableProject();case 8:e.$route.query.t&&(r=parseInt(e.$route.query.t||"",10),r&&f.$emit("i-show-task",{taskId:r}));case 9:case"end":return t.stop()}}),t)})))()},trySelectMostSuitableProject:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.projects.length){t.next=5;break}if("/project/new"===e.$route.path){t.next=4;break}return t.next=4,e.$router.push({path:"/project/new"});case 4:return t.abrupt("return");case 5:if(e.projectId&&(r=e.projectId),null!=r&&e.projects.some((function(e){return e.id===r}))||!localStorage.getItem("projectId")||(r=parseInt(localStorage.getItem("projectId"),10)),null!=r&&e.projects.some((function(e){return e.id===r}))||(r=e.projects[0].id),null==r){t.next=11;break}return t.next=11,e.selectProject(r);case 11:case"end":return t.stop()}}),t)})))()},selectProject:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(localStorage.setItem("projectId",e),t.projectId!==e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,t.$router.push({path:"/project/".concat(e)});case 5:case"end":return r.stop()}}),r)})))()},loadProjects:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s()({method:"get",url:"/api/projects",responseType:"json"});case 2:e.projects=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},loadUserInfo:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isAuthenticated){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s()({method:"get",url:"/api/user",responseType:"json"});case 4:e.user=t.sent.data;case 5:case"end":return t.stop()}}),t)})))()},getProjectColor:function(e){var t=this.projects.length-this.projects.findIndex((function(t){return t.id===e.id}));return Ue[t%Ue.length]},getProjectInitials:function(e){var t=e.name.split(/\s/);return t.length>=2?"".concat(t[0][0]).concat(t[1][0]).toUpperCase():t[0].substr(0,2).toUpperCase()},signOut:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.snackbar=!1,e.snackbarColor="",e.snackbarText="",ne.stop(),t.next=6,s()({method:"post",url:"/api/auth/logout",responseType:"json"});case 6:if("/auth/login"===e.$route.path){t.next=10;break}return t.next=9,e.$router.push({path:"/auth/login"});case 9:e.state="success";case 10:case"end":return t.stop()}}),t)})))()},refreshPage:function(){var e=document,t=e.location;document.location=t}}},Le=Ae,qe=(r("5c0b"),r("7496")),Fe=r("8212"),ze=r("34c3"),Be=r("f6c4"),Me=r("e449"),He=r("f774"),Ke=r("2db4"),We=Object(g["a"])(Le,c,l,!1,null,null,null),Ye=We.exports;k()(We,{VAlert:je["a"],VApp:qe["a"],VAvatar:Fe["a"],VBtn:w["a"],VContainer:se["a"],VIcon:Q["a"],VList:ce["a"],VListItem:le["a"],VListItemContent:ue["a"],VListItemIcon:ze["a"],VListItemTitle:ue["c"],VMain:Be["a"],VMenu:Me["a"],VNavigationDrawer:He["a"],VProgressCircular:H["a"],VSnackbar:Ke["a"],VSpacer:I["a"]});var Ge=r("8c4f"),Je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.items?r("div",[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(t){return e.showDrawer()}}}),r("v-toolbar-title",[e._v("Dashboard")]),r("v-spacer"),r("div",[r("v-tabs",{attrs:{centered:""}},[r("v-tab",{key:"history",attrs:{to:"/project/"+e.projectId+"/history"}},[e._v("History")]),r("v-tab",{key:"activity",attrs:{to:"/project/"+e.projectId+"/activity"}},[e._v("Activity")]),r("v-tab",{key:"settings",attrs:{to:"/project/"+e.projectId+"/settings"}},[e._v("Settings")])],1)],1)],1),r("v-data-table",{staticClass:"mt-4",attrs:{headers:e.headers,items:e.items,"footer-props":{itemsPerPageOptions:[20]}},scopedSlots:e._u([{key:"item.tpl_alias",fn:function(t){var n=t.item;return[r("a",{on:{click:function(t){return e.showTaskLog(n.id)}}},[e._v(e._s(n.tpl_alias))]),r("span",{staticStyle:{color:"gray","margin-left":"10px"}},[e._v("#"+e._s(n.id))])]}},{key:"item.status",fn:function(e){var t=e.item;return[r("TaskStatus",{attrs:{status:t.status}})]}},{key:"item.start",fn:function(t){var r=t.item;return[e._v(" "+e._s(e._f("formatDate")(r.start))+" ")]}},{key:"item.end",fn:function(t){var r=t.item;return[e._v(" "+e._s(e._f("formatMilliseconds")([r.start,r.end]))+" ")]}}],null,!1,1068769116)})],1):e._e()},Xe=[],Qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v(e._s(e.title))]),r("v-card-text",[e._v(e._s(e.text))]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.no()}}},[e._v(" "+e._s(e.noButtonTitle||"Cancel")+" ")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.yes()}}},[e._v(" "+e._s(e.yesButtonTitle||"Yes")+" ")])],1)],1)],1)},Ze=[],et={props:{value:Boolean,title:String,text:String,yesButtonTitle:String,noButtonTitle:String},data:function(){return{dialog:!1}},watch:{dialog:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$emit("input",e);case 1:case"end":return r.stop()}}),r)})))()},value:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.dialog=e;case 1:case"end":return r.stop()}}),r)})))()}},methods:{yes:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("yes"),e.dialog=!1;case 2:case"end":return t.stop()}}),t)})))()},no:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("no"),e.dialog=!1;case 2:case"end":return t.stop()}}),t)})))()}}},tt=et,rt=Object(g["a"])(tt,Qe,Ze,!1,null,null,null),nt=rt.exports;k()(rt,{VBtn:w["a"],VCard:x["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VDialog:_["a"],VSpacer:I["a"]});var at={components:{YesNoDialog:nt,EditDialog:V},props:{projectId:Number,userId:Number},data:function(){return{headers:this.getHeaders(),items:null,itemId:null,editDialog:null,deleteItemDialog:null}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadItems();case 2:case"end":return t.stop()}}),t)})))()},methods:{getSingleItemUrl:function(){throw new Error("Not implemented")},getHeaders:function(){throw new Error("Not implemented")},getEventName:function(){throw new Error("Not implemented")},showDrawer:function(){f.$emit("i-show-drawer")},onItemSave:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadItems();case 2:case"end":return t.stop()}}),t)})))()},askDeleteItem:function(e){this.itemId=e,this.deleteItemDialog=!0},deleteItem:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,n=t.items.find((function(t){return t.id===e})),r.next=4,s()({method:"delete",url:t.getSingleItemUrl(),responseType:"json"});case 4:return f.$emit(t.getEventName(),{action:"delete",item:n}),r.next=7,t.loadItems();case 7:r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),f.$emit("i-snackbar",{color:"error",text:d(r.t0)});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},editItem:function(e){this.itemId=e,this.editDialog=!0},loadItems:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s()({method:"get",url:e.getItemsUrl(),responseType:"json"});case 2:e.items=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()}}},it={mixins:[at],components:{TaskStatus:ee},watch:{projectId:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadItems();case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;ne.addListener((function(t){return e.onWebsocketDataReceived(t)}))},methods:{showTaskLog:function(e){f.$emit("i-show-task",{taskId:e})},onWebsocketDataReceived:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.project_id===t.projectId&&"update"===e.type){r.next=2;break}return r.abrupt("return");case 2:if(t.items.some((function(t){return t.id===e.task_id}))){r.next=5;break}return r.next=5,t.loadItems();case 5:n=t.items.find((function(t){return t.id===e.task_id})),Object.assign(n,Object(u["a"])(Object(u["a"])({},e),{},{type:void 0}));case 7:case"end":return r.stop()}}),r)})))()},getHeaders:function(){return[{text:"Task",value:"tpl_alias",sortable:!1},{text:"Status",value:"status",sortable:!1},{text:"User",value:"user_name",sortable:!1},{text:"Start",value:"start",sortable:!1},{text:"Duration",value:"end",sortable:!1}]},getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/tasks/last")}}},ot=it,st=r("5bc1"),ct=r("8fea"),lt=r("71a3"),ut=r("fe57"),mt=r("71d9"),dt=r("2a7f"),vt=Object(g["a"])(ot,Je,Xe,!1,null,null,null),pt=vt.exports;k()(vt,{VAppBarNavIcon:st["a"],VDataTable:ct["a"],VSpacer:I["a"],VTab:lt["a"],VTabs:ut["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]});var ft=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.items?r("div",[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(t){return e.showDrawer()}}}),r("v-toolbar-title",[e._v("Dashboard")]),r("v-spacer"),r("div",[r("v-tabs",{attrs:{centered:""}},[r("v-tab",{key:"history",attrs:{to:"/project/"+e.projectId+"/history"}},[e._v("History")]),r("v-tab",{key:"activity",attrs:{to:"/project/"+e.projectId+"/activity"}},[e._v("Activity")]),r("v-tab",{key:"settings",attrs:{to:"/project/"+e.projectId+"/settings"}},[e._v("Settings")])],1)],1)],1),r("v-data-table",{staticClass:"mt-4",attrs:{headers:e.headers,items:e.items,"footer-props":{itemsPerPageOptions:[20]}},scopedSlots:e._u([{key:"item.created",fn:function(t){var r=t.item;return[e._v(" "+e._s(e._f("formatDate")(r.created))+" ")]}}],null,!1,2635796545)})],1):e._e()},ht=[],bt={mixins:[at],methods:{getHeaders:function(){return[{text:"Time",value:"created",sortable:!1,width:"20%"},{text:"Description",value:"description",sortable:!1,width:"80%"}]},getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/events/last")}}},gt=bt,jt=Object(g["a"])(gt,ft,ht,!1,null,null,null),kt=jt.exports;k()(jt,{VAppBarNavIcon:st["a"],VDataTable:ct["a"],VSpacer:I["a"],VTab:lt["a"],VTabs:ut["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]});var wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("YesNoDialog",{attrs:{title:"Delete project",text:"Are you really want to delete this project?"},on:{yes:function(t){return e.deleteProject()}},model:{value:e.deleteProjectDialog,callback:function(t){e.deleteProjectDialog=t},expression:"deleteProjectDialog"}}),r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(t){return e.showDrawer()}}}),r("v-toolbar-title",[e._v("Dashboard")]),r("v-spacer"),r("div",[r("v-tabs",{attrs:{centered:""}},[r("v-tab",{key:"history",attrs:{to:"/project/"+e.projectId+"/history"}},[e._v("History")]),r("v-tab",{key:"activity",attrs:{to:"/project/"+e.projectId+"/activity"}},[e._v("Activity")]),r("v-tab",{key:"settings",attrs:{to:"/project/"+e.projectId+"/settings"}},[e._v("Settings")])],1)],1)],1),r("div",{staticClass:"project-settings-form"},[r("div",{staticStyle:{height:"220px"}},[r("ProjectForm",{ref:"form",attrs:{"item-id":e.projectId}})],1),r("div",{staticClass:"text-right"},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.saveProject()}}},[e._v("Save")])],1)]),r("div",{staticClass:"project-delete-form"},[r("v-row",{attrs:{align:"center"}},[r("v-col",{staticClass:"shrink"},[r("v-btn",{attrs:{color:"error"},on:{click:function(t){e.deleteProjectDialog=!0}}},[e._v("Delete Project")])],1),r("v-col",{staticClass:"grow"},[r("div",{staticStyle:{"font-size":"14px",color:"#ff5252"}},[e._v(" Once you delete a project, there is no going back. Please be certain. ")])])],1)],1)],1)},xt=[],yt={components:{YesNoDialog:nt,ProjectForm:_e},props:{projectId:Number},data:function(){return{deleteProjectDialog:null}},methods:{showDrawer:function(){f.$emit("i-show-drawer")},saveProject:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.save();case 2:if(r=t.sent,r){t.next=5;break}return t.abrupt("return");case 5:f.$emit("i-project",{action:"edit",item:r});case 6:case"end":return t.stop()}}),t)})))()},deleteProject:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s()({method:"delete",url:"/api/project/".concat(e.projectId),responseType:"json"});case 3:f.$emit("i-project",{action:"delete",item:{id:e.projectId}}),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),f.$emit("i-snackbar",{color:"error",text:d(t.t0)});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},_t=yt,It=(r("07e5"),Object(g["a"])(_t,wt,xt,!1,null,null,null)),St=It.exports;k()(It,{VAppBarNavIcon:st["a"],VBtn:w["a"],VCol:oe["a"],VRow:me["a"],VSpacer:I["a"],VTab:lt["a"],VTabs:ut["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]});var Vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoaded?r("div",[r("EditDialog",{attrs:{"max-width":"700","save-button-text":"Create",title:"New template"},on:{save:function(t){return e.loadItems()}},scopedSlots:e._u([{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("TemplateForm",{attrs:{"project-id":e.projectId,"item-id":"new","need-save":i,"need-reset":o},on:{save:n,error:a}})]}}]),model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}}),r("EditDialog",{attrs:{"save-button-text":"Run",title:"New Task"},on:{save:e.onTaskCreated},scopedSlots:e._u([{key:"title",fn:function(t){return[r("span",{staticClass:"breadcrumbs__item"},[e._v(e._s(e.templateAlias))]),r("v-icon",[e._v("mdi-chevron-right")]),r("span",{staticClass:"breadcrumbs__item"},[e._v("New Task")])]}},{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("TaskForm",{attrs:{"project-id":e.projectId,"item-id":"new","template-id":e.itemId,"need-save":i,"need-reset":o},on:{save:n,error:a}})]}}]),model:{value:e.newTaskDialog,callback:function(t){e.newTaskDialog=t},expression:"newTaskDialog"}}),r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(t){return e.showDrawer()}}}),r("v-toolbar-title",[e._v("Task Templates")]),r("v-spacer"),r("v-btn",{staticClass:"mr-1",attrs:{color:"primary"},on:{click:function(t){return e.editItem("new")}}},[e._v("New template")]),r("v-btn",{attrs:{icon:""},on:{click:function(t){e.settingsSheet=!0}}},[r("v-icon",[e._v("mdi-cog")])],1)],1),r("v-data-table",{staticClass:"mt-4",attrs:{headers:e.filteredHeaders,items:e.items,"hide-default-footer":"","items-per-page":Number.MAX_VALUE},scopedSlots:e._u([{key:"item.alias",fn:function(t){var n=t.item;return[r("router-link",{attrs:{to:"/project/"+e.projectId+"/templates/"+n.id}},[e._v(" "+e._s(n.alias)+" ")])]}},{key:"item.ssh_key_id",fn:function(t){var r=t.item;return[e._v(" "+e._s(e.keys.find((function(e){return e.id===r.ssh_key_id})).name)+" ")]}},{key:"item.inventory_id",fn:function(t){var r=t.item;return[e._v(" "+e._s(e.inventory.find((function(e){return e.id===r.inventory_id})).name)+" ")]}},{key:"item.environment_id",fn:function(t){var r=t.item;return[e._v(" "+e._s(e.environment.find((function(e){return e.id===r.environment_id})).name)+" ")]}},{key:"item.repository_id",fn:function(t){var r=t.item;return[e._v(" "+e._s(e.repositories.find((function(e){return e.id===r.repository_id})).name)+" ")]}},{key:"item.actions",fn:function(t){var n=t.item;return[r("v-btn",{staticClass:"pl-1 pr-2",attrs:{text:"",color:"black"},on:{click:function(t){return e.createTask(n.id)}}},[r("v-icon",{staticClass:"pr-1"},[e._v("mdi-play")]),e._v(" Run ")],1)]}}])}),r("TableSettingsSheet",{attrs:{"table-name":"project__template",headers:e.headers},on:{change:e.onTableSettingsChange},model:{value:e.settingsSheet,callback:function(t){e.settingsSheet=t},expression:"settingsSheet"}})],1):r("div",[r("v-progress-linear",{attrs:{indeterminate:"",color:"primary darken-2"}})],1)},Dt=[],Tt=(r("ddb0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoaded?r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-row",[r("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Playbook Alias",rules:[function(e){return!!e||"Playbook Alias is required"}],required:"",disabled:e.formSaving},model:{value:e.item.alias,callback:function(t){e.$set(e.item,"alias",t)},expression:"item.alias"}}),r("v-text-field",{attrs:{label:"Playbook Name",rules:[function(e){return!!e||"Playbook Name is required"}],required:"",disabled:e.formSaving},model:{value:e.item.playbook,callback:function(t){e.$set(e.item,"playbook",t)},expression:"item.playbook"}}),r("v-select",{attrs:{label:"SSH Key",items:e.keys,"item-value":"id","item-text":"name",rules:[function(e){return!!e||"SSH Key is required"}],required:"",disabled:e.formSaving},model:{value:e.item.ssh_key_id,callback:function(t){e.$set(e.item,"ssh_key_id",t)},expression:"item.ssh_key_id"}}),r("v-select",{attrs:{label:"Inventory",items:e.inventory,"item-value":"id","item-text":"name",rules:[function(e){return!!e||"Inventory is required"}],required:"",disabled:e.formSaving},model:{value:e.item.inventory_id,callback:function(t){e.$set(e.item,"inventory_id",t)},expression:"item.inventory_id"}})],1),r("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"6"}},[r("v-select",{attrs:{label:"Playbook Repository",items:e.repositories,"item-value":"id","item-text":"name",rules:[function(e){return!!e||"Playbook Repository is required"}],required:"",disabled:e.formSaving},model:{value:e.item.repository_id,callback:function(t){e.$set(e.item,"repository_id",t)},expression:"item.repository_id"}}),r("v-select",{attrs:{label:"Environment",items:e.environment,"item-value":"id","item-text":"name",rules:[function(e){return!!e||"Environment is required"}],required:"",disabled:e.formSaving},model:{value:e.item.environment_id,callback:function(t){e.$set(e.item,"environment_id",t)},expression:"item.environment_id"}}),r("v-textarea",{staticClass:"mt-4",attrs:{outlined:"",label:"Extra CLI Arguments",disabled:e.formSaving,placeholder:'*MUST* be a JSON array!\nExample: ["-i", "@myinventory.sh", "--private-key=/there/id_rsa", "-vvvv"]',rows:"4"},model:{value:e.item.arguments,callback:function(t){e.$set(e.item,"arguments",t)},expression:"item.arguments"}})],1)],1)],1):e._e()}),Rt=[],Ot={mixins:[he],props:{sourceItemId:String},data:function(){return{item:null,keys:null,inventory:null,repositories:null,environment:null}},watch:{needReset:function(e){e&&(this.item.template_id=this.templateId)},sourceItemId:function(e){this.item.template_id=e}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.sourceItemId){t.next=4;break}return t.next=3,s()({keys:"get",url:"/api/project/".concat(e.projectId,"/templates/").concat(e.sourceItemId),responseType:"json"});case 3:e.item=t.sent.data;case 4:return t.next=6,s()({keys:"get",url:"/api/project/".concat(e.projectId,"/keys"),responseType:"json"});case 6:return e.keys=t.sent.data,t.next=9,s()({keys:"get",url:"/api/project/".concat(e.projectId,"/repositories"),responseType:"json"});case 9:return e.repositories=t.sent.data,t.next=12,s()({keys:"get",url:"/api/project/".concat(e.projectId,"/inventory"),responseType:"json"});case 12:return e.inventory=t.sent.data,t.next=15,s()({keys:"get",url:"/api/project/".concat(e.projectId,"/environment"),responseType:"json"});case 15:e.environment=t.sent.data;case 16:case"end":return t.stop()}}),t)})))()},computed:{isLoaded:function(){return!(!this.isNew||null!=this.sourceItemId)||null!=this.keys&&null!=this.repositories&&null!=this.inventory&&null!=this.environment&&null!=this.item}},methods:{getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/templates")},getSingleItemUrl:function(){return"/api/project/".concat(this.projectId,"/templates/").concat(this.itemId)}}},Ct=Ot,Et=r("b974"),$t=r("a844"),Nt=Object(g["a"])(Ct,Tt,Rt,!1,null,null,null),Pt=Nt.exports;k()(Nt,{VCol:oe["a"],VForm:we["a"],VRow:me["a"],VSelect:Et["a"],VTextField:xe["a"],VTextarea:$t["a"]});var Ut=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.item?r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-alert",{staticClass:"pb-2",attrs:{value:e.formError,color:"error"}},[e._v(e._s(e.formError))]),r("v-text-field",{attrs:{label:"Playbook Override",disabled:e.formSaving},model:{value:e.item.playbook,callback:function(t){e.$set(e.item,"playbook",t)},expression:"item.playbook"}}),r("v-textarea",{attrs:{label:"Environment Override (*MUST* be valid JSON)",disabled:e.formSaving,rows:"4"},model:{value:e.item.environment,callback:function(t){e.$set(e.item,"environment",t)},expression:"item.environment"}}),r("v-textarea",{attrs:{label:"Extra CLI Arguments",disabled:e.formSaving,rows:"4"},model:{value:e.item.arguments,callback:function(t){e.$set(e.item,"arguments",t)},expression:"item.arguments"}})],1):e._e()},At=[],Lt={mixins:[he],props:{templateId:Number},watch:{needReset:function(e){e&&(this.item.template_id=this.templateId)},templateId:function(e){this.item.template_id=e}},created:function(){this.item.template_id=this.templateId},methods:{getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/tasks")}}},qt=Lt,Ft=Object(g["a"])(qt,Ut,At,!1,null,null,null),zt=Ft.exports;k()(Ft,{VAlert:je["a"],VForm:we["a"],VTextField:xe["a"],VTextarea:$t["a"]});var Bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.settings?r("PageBottomSheet",{model:{value:e.sheet,callback:function(t){e.sheet=t},expression:"sheet"}},[r("h4",[e._v("Columns")]),r("div",{staticClass:"d-flex flex-row flex-wrap"},e._l(e.headers.filter((function(e){return"actions"!==e.value})),(function(t){return r("v-checkbox",{key:t.value,staticClass:"mr-6",attrs:{label:t.text},on:{change:function(t){return e.saveSettings()}},model:{value:e.settings.columns[t.value].visible,callback:function(r){e.$set(e.settings.columns[t.value],"visible",r)},expression:"settings.columns[header.value].visible"}})})),1)]):e._e()},Mt=[],Ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"sheet",staticClass:"page-bottom-sheet"},[r("v-bottom-sheet",{attrs:{attach:this.$refs.sheet,"hide-overlay":""},model:{value:e.sheet,callback:function(t){e.sheet=t},expression:"sheet"}},[r("v-sheet",{staticClass:"pa-4"},[e._t("default")],2)],1)],1)},Kt=[],Wt={props:{value:Boolean},data:function(){return{sheet:!1}},watch:{sheet:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$emit("input",e);case 1:case"end":return r.stop()}}),r)})))()},value:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.sheet=e;case 1:case"end":return r.stop()}}),r)})))()}}},Yt=Wt,Gt=(r("cc42"),r("288c")),Jt=r("8dd9"),Xt=Object(g["a"])(Yt,Ht,Kt,!1,null,null,null),Qt=Xt.exports;k()(Xt,{VBottomSheet:Gt["a"],VSheet:Jt["a"]});var Zt={props:{value:Boolean,tableName:String,headers:Array},components:{PageBottomSheet:Qt},data:function(){return{sheet:!1,settings:null}},watch:{sheet:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$emit("input",e);case 1:case"end":return r.stop()}}),r)})))()},value:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.sheet=e;case 1:case"end":return r.stop()}}),r)})))()},headers:function(){this.loadSettings()}},created:function(){this.loadSettings()},methods:{saveSettings:function(){localStorage.setItem("".concat(this.tableName,"__settings"),JSON.stringify(this.settings)),this.loadSettings()},loadSettings:function(){var e=this;localStorage.getItem("".concat(this.tableName,"__settings"))?this.settings=JSON.parse(localStorage.getItem("".concat(this.tableName,"__settings"))):this.settings={columns:{}},this.headers.forEach((function(t){e.settings.columns[t.value]||(e.settings.columns[t.value]={visible:!0})})),this.$emit("change",{settings:this.settings,headers:this.headers.filter((function(t){var r=e.settings.columns[t.value];return!r||r.visible}))})}}},er=Zt,tr=Object(g["a"])(er,Bt,Mt,!1,null,null,null),rr=tr.exports;k()(tr,{VCheckbox:ke["a"]});var nr={components:{TemplateForm:Pt,TaskForm:zt,TableSettingsSheet:rr},mixins:[at],created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadData();case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{keys:null,inventory:null,environment:null,repositories:null,newTaskDialog:null,taskId:null,settingsSheet:null,filteredHeaders:[]}},computed:{templateAlias:function(){var e=this;return null==this.itemId||"new"===this.itemId?"":this.items.find((function(t){return t.id===e.itemId})).alias},isLoaded:function(){return this.items&&this.keys&&this.inventory&&this.environment&&this.repositories}},methods:{onTaskCreated:function(e){f.$emit("i-show-task",{taskId:e.item.id})},createTask:function(e){this.itemId=e,this.newTaskDialog=!0},getHeaders:function(){return[{text:"Alias",value:"alias"},{text:"Playbook",value:"playbook",sortable:!1},{text:"SSH key",value:"ssh_key_id",sortable:!1},{text:"Inventory",value:"inventory_id",sortable:!1},{text:"Environment",value:"environment_id",sortable:!1},{text:"Repository",value:"repository_id",sortable:!1},{text:"Actions",value:"actions",sortable:!1,width:"0%"}]},getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/templates")},loadData:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s()({method:"get",url:"/api/project/".concat(e.projectId,"/inventory"),responseType:"json"});case 2:return e.inventory=t.sent.data,t.next=5,s()({method:"get",url:"/api/project/".concat(e.projectId,"/environment"),responseType:"json"});case 5:return e.environment=t.sent.data,t.next=8,s()({method:"get",url:"/api/project/".concat(e.projectId,"/keys"),responseType:"json"});case 8:return e.keys=t.sent.data,t.next=11,s()({method:"get",url:"/api/project/".concat(e.projectId,"/repositories"),responseType:"json"});case 11:e.repositories=t.sent.data;case 12:case"end":return t.stop()}}),t)})))()},onTableSettingsChange:function(e){var t=e.headers;this.filteredHeaders=t}}},ar=nr,ir=r("8e36"),or=Object(g["a"])(ar,Vt,Dt,!1,null,null,null),sr=or.exports;k()(or,{VAppBarNavIcon:st["a"],VBtn:w["a"],VDataTable:ct["a"],VIcon:Q["a"],VProgressLinear:ir["a"],VSpacer:I["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]});var cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoaded?r("div",[r("EditDialog",{attrs:{"max-width":"700","save-button-text":"Save",title:"Edit Template"},on:{save:function(t){return e.loadData()}},scopedSlots:e._u([{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("TemplateForm",{attrs:{"project-id":e.projectId,"item-id":e.itemId,"need-save":i,"need-reset":o},on:{save:n,error:a}})]}}]),model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}}),r("EditDialog",{attrs:{"save-button-text":"Create",title:"New Template"},on:{save:e.onTemplateCopied},scopedSlots:e._u([{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("TemplateForm",{attrs:{"project-id":e.projectId,"item-id":"new","source-item-id":e.itemId,"need-save":i,"need-reset":o},on:{save:n,error:a}})]}}]),model:{value:e.copyDialog,callback:function(t){e.copyDialog=t},expression:"copyDialog"}}),r("YesNoDialog",{attrs:{title:"Delete template",text:"Are you really want to delete this template?"},on:{yes:function(t){return e.remove()}},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}}),r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(t){return e.showDrawer()}}}),r("v-toolbar-title",{staticClass:"breadcrumbs"},[r("router-link",{staticClass:"breadcrumbs__item breadcrumbs__item--link",attrs:{to:"/project/"+e.projectId+"/templates/"}},[e._v("Task Templates")]),r("v-icon",[e._v("mdi-chevron-right")]),r("span",{staticClass:"breadcrumbs__item"},[e._v(e._s(e.item.alias))])],1),r("v-spacer"),r("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.deleteDialog=!0}}},[r("v-icon",[e._v("mdi-delete")])],1),r("v-btn",{attrs:{icon:"",color:"black"},on:{click:function(t){e.copyDialog=!0}}},[r("v-icon",[e._v("mdi-content-copy")])],1),r("v-btn",{attrs:{icon:"",color:"black"},on:{click:function(t){e.editDialog=!0}}},[r("v-icon",[e._v("mdi-pencil")])],1)],1),r("v-container",{staticClass:"pa-0"},[r("v-row",[r("v-col",[r("v-list",{attrs:{"two-line":"",subheader:""}},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Playbook")]),r("v-list-item-subtitle",[e._v(e._s(e.item.playbook))])],1)],1)],1)],1),r("v-col",[r("v-list",{attrs:{"two-line":"",subheader:""}},[r("v-list-item",[r("v-list-item-icon",[r("v-icon",[e._v("mdi-monitor")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Inventory")]),r("v-list-item-subtitle",[e._v(" "+e._s(e.inventory.find((function(t){return t.id===e.item.inventory_id})).name)+" ")])],1)],1)],1)],1),r("v-col",[r("v-list",{attrs:{"two-line":"",subheader:""}},[r("v-list-item",[r("v-list-item-icon",[r("v-icon",[e._v("mdi-code-braces")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Environment")]),r("v-list-item-subtitle",[e._v(" "+e._s(e.environment.find((function(t){return t.id===e.item.environment_id})).name)+" ")])],1)],1)],1)],1),r("v-col",[r("v-list",{attrs:{"two-line":"",subheader:""}},[r("v-list-item",[r("v-list-item-icon",[r("v-icon",[e._v("mdi-key")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("SSH Key")]),r("v-list-item-subtitle",[e._v(" "+e._s(e.keys.find((function(t){return t.id===e.item.ssh_key_id})).name)+" ")])],1)],1)],1)],1),r("v-col",[r("v-list",{attrs:{"two-line":"",subheader:""}},[r("v-list-item",[r("v-list-item-icon",[r("v-icon",[e._v("mdi-git")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Repository")]),r("v-list-item-subtitle",[e._v(" "+e._s(e.repositories.find((function(t){return t.id===e.item.repository_id})).name)+" ")])],1)],1)],1)],1)],1)],1),r("v-data-table",{staticClass:"mt-0",attrs:{headers:e.headers,items:e.tasks,"footer-props":{itemsPerPageOptions:[20]}},scopedSlots:e._u([{key:"item.id",fn:function(t){var n=t.item;return[r("a",{on:{click:function(t){return e.showTaskLog(n.id)}}},[e._v("#"+e._s(n.id))])]}},{key:"item.status",fn:function(e){var t=e.item;return[r("TaskStatus",{attrs:{status:t.status}})]}},{key:"item.start",fn:function(t){var r=t.item;return[e._v(" "+e._s(e._f("formatDate")(r.start))+" ")]}},{key:"item.end",fn:function(t){var r=t.item;return[e._v(" "+e._s(e._f("formatMilliseconds")([r.start,r.end]))+" ")]}}])})],1):r("div",[r("v-progress-linear",{attrs:{indeterminate:"",color:"primary darken-2"}})],1)},lr=[],ur={components:{YesNoDialog:nt,EditDialog:V,TemplateForm:Pt,TaskStatus:ee},props:{projectId:Number},data:function(){return{headers:[{text:"Task ID",value:"id",sortable:!1},{text:"Status",value:"status",sortable:!1},{text:"User",value:"user_name",sortable:!1},{text:"Start",value:"start",sortable:!1},{text:"Duration",value:"end",sortable:!1}],tasks:null,item:null,keys:null,inventory:null,environment:null,repositories:null,deleteDialog:null,editDialog:null,copyDialog:null,taskLogDialog:null,taskId:null}},computed:{itemId:function(){return this.$route.params.templateId},isNew:function(){return"new"===this.itemId},isLoaded:function(){return this.item&&this.tasks&&this.keys&&this.inventory&&this.environment&&this.repositories}},watch:{itemId:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadData();case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isNew){t.next=5;break}return t.next=3,e.$router.replace({path:"/project/".concat(e.projectId,"/templates/new/edit")});case 3:t.next=7;break;case 5:return t.next=7,e.loadData();case 7:case"end":return t.stop()}}),t)})))()},methods:{showTaskLog:function(e){f.$emit("i-show-task",{taskId:e})},showDrawer:function(){f.$emit("i-show-drawer")},remove:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s()({method:"delete",url:"/api/project/".concat(e.projectId,"/templates/").concat(e.itemId),responseType:"json"});case 3:return f.$emit("i-snackbar",{color:"success",text:'Template "'.concat(e.item.alias,'" deleted')}),t.next=6,e.$router.push({path:"/project/".concat(e.projectId,"/templates")});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),f.$emit("i-snackbar",{color:"error",text:d(t.t0)});case 11:return t.prev=11,e.deleteDialog=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()},onTemplateCopied:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$router.push({path:"/project/".concat(t.projectId,"/templates/").concat(e.item.id)});case 2:case"end":return r.stop()}}),r)})))()},loadData:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s()({method:"get",url:"/api/project/".concat(e.projectId,"/templates/").concat(e.itemId),responseType:"json"});case 2:return e.item=t.sent.data,t.next=5,s()({method:"get",url:"/api/project/".concat(e.projectId,"/templates/").concat(e.itemId,"/tasks/last"),responseType:"json"});case 5:return e.tasks=t.sent.data,t.next=8,s()({method:"get",url:"/api/project/".concat(e.projectId,"/inventory"),responseType:"json"});case 8:return e.inventory=t.sent.data,t.next=11,s()({method:"get",url:"/api/project/".concat(e.projectId,"/environment"),responseType:"json"});case 11:return e.environment=t.sent.data,t.next=14,s()({method:"get",url:"/api/project/".concat(e.projectId,"/keys"),responseType:"json"});case 14:return e.keys=t.sent.data,t.next=17,s()({method:"get",url:"/api/project/".concat(e.projectId,"/repositories"),responseType:"json"});case 17:e.repositories=t.sent.data;case 18:case"end":return t.stop()}}),t)})))()}}},mr=ur,dr=Object(g["a"])(mr,cr,lr,!1,null,null,null),vr=dr.exports;k()(dr,{VAppBarNavIcon:st["a"],VBtn:w["a"],VCol:oe["a"],VContainer:se["a"],VDataTable:ct["a"],VIcon:Q["a"],VList:ce["a"],VListItem:le["a"],VListItemContent:ue["a"],VListItemIcon:ze["a"],VListItemSubtitle:ue["b"],VListItemTitle:ue["c"],VProgressLinear:ir["a"],VRow:me["a"],VSpacer:I["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]});var pr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.items?r("div",[r("EditDialog",{attrs:{"save-button-text":"Save",title:"Edit Environment","max-width":500},on:{save:e.loadItems},scopedSlots:e._u([{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("EnvironmentForm",{attrs:{"project-id":e.projectId,"item-id":e.itemId,"need-save":i,"need-reset":o},on:{save:n,error:a}})]}}],null,!1,1874033041),model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}}),r("YesNoDialog",{attrs:{title:"Delete environment",text:"Are you really want to delete this environment?"},on:{yes:function(t){return e.deleteItem(e.itemId)}},model:{value:e.deleteItemDialog,callback:function(t){e.deleteItemDialog=t},expression:"deleteItemDialog"}}),r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(t){return e.showDrawer()}}}),r("v-toolbar-title",[e._v("Environment")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.editItem("new")}}},[e._v("New Environment")])],1),r("v-data-table",{staticClass:"mt-4",attrs:{headers:e.headers,items:e.items,"hide-default-footer":"","items-per-page":Number.MAX_VALUE},scopedSlots:e._u([{key:"item.actions",fn:function(t){var n=t.item;return[r("div",{staticStyle:{"white-space":"nowrap"}},[r("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(t){return e.askDeleteItem(n.id)}}},[r("v-icon",[e._v("mdi-delete")])],1),r("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(t){return e.editItem(n.id)}}},[r("v-icon",[e._v("mdi-pencil")])],1)],1)]}}],null,!1,2194686913)})],1):e._e()},fr=[],hr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.item?r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-alert",{staticClass:"pb-2",attrs:{value:e.formError,color:"error"}},[e._v(e._s(e.formError))]),r("v-text-field",{staticClass:"mb-4",attrs:{label:"Environment Name",rules:[function(e){return!!e||"Name is required"}],required:"",disabled:e.formSaving},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),r("v-textarea",{attrs:{label:"Environment (This has to be a JSON object)",disabled:e.formSaving,solo:""},model:{value:e.item.json,callback:function(t){e.$set(e.item,"json",t)},expression:"item.json"}}),r("div",[e._v(" Must be valid JSON. You may use the key ENV to pass a json object which sets environmental variables for the ansible command execution environment ")])],1):e._e()},br=[],gr={mixins:[he],methods:{getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/environment")},getSingleItemUrl:function(){return"/api/project/".concat(this.projectId,"/environment/").concat(this.itemId)}}},jr=gr,kr=Object(g["a"])(jr,hr,br,!1,null,null,null),wr=kr.exports;k()(kr,{VAlert:je["a"],VForm:we["a"],VTextField:xe["a"],VTextarea:$t["a"]});var xr={components:{EnvironmentForm:wr},mixins:[at],methods:{getHeaders:function(){return[{text:"Name",value:"name",width:"100%"},{text:"Actions",value:"actions",sortable:!1}]},getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/environment")},getSingleItemUrl:function(){return"/api/project/".concat(this.projectId,"/environment/").concat(this.itemId)},getEventName:function(){return"i-environment"}}},yr=xr,_r=Object(g["a"])(yr,pr,fr,!1,null,null,null),Ir=_r.exports;k()(_r,{VAppBarNavIcon:st["a"],VBtn:w["a"],VDataTable:ct["a"],VIcon:Q["a"],VSpacer:I["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]});var Sr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.items?r("div",[r("EditDialog",{attrs:{"save-button-text":"new"===e.itemId?"Create":"Save",title:("new"===e.itemId?"New":"Edit")+" Inventory","max-width":450},on:{save:e.loadItems},scopedSlots:e._u([{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("InventoryForm",{attrs:{"project-id":e.projectId,"item-id":e.itemId,"need-save":i,"need-reset":o},on:{save:n,error:a}})]}}],null,!1,3949045006),model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}}),r("YesNoDialog",{attrs:{title:"Delete inventory",text:"Are you really want to delete this inventory?"},on:{yes:function(t){return e.deleteItem(e.itemId)}},model:{value:e.deleteItemDialog,callback:function(t){e.deleteItemDialog=t},expression:"deleteItemDialog"}}),r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(t){return e.showDrawer()}}}),r("v-toolbar-title",[e._v("Inventory")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.editItem("new")}}},[e._v("New Inventory")])],1),r("v-data-table",{staticClass:"mt-4",attrs:{headers:e.headers,items:e.items,"hide-default-footer":"","items-per-page":Number.MAX_VALUE},scopedSlots:e._u([{key:"item.inventory",fn:function(t){var r=t.item;return[e._v(" "+e._s("file"===r.type?r.inventory:"—")+" ")]}},{key:"item.actions",fn:function(t){var n=t.item;return[r("div",{staticStyle:{"white-space":"nowrap"}},[r("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(t){return e.askDeleteItem(n.id)}}},[r("v-icon",[e._v("mdi-delete")])],1),r("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(t){return e.editItem(n.id)}}},[r("v-icon",[e._v("mdi-pencil")])],1)],1)]}}],null,!1,941772910)})],1):e._e()},Vr=[],Dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.item&&null!=e.keys?r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-alert",{staticClass:"pb-2",attrs:{value:e.formError,color:"error"}},[e._v(e._s(e.formError))]),r("v-text-field",{attrs:{label:"Name",rules:[function(e){return!!e||"Name is required"}],required:"",disabled:e.formSaving},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),r("v-select",{attrs:{label:"SSH Key",items:e.keys,"item-value":"id","item-text":"name",rules:[function(e){return!!e||"SSH Key is required"}],required:"",disabled:e.formSaving},model:{value:e.item.ssh_key_id,callback:function(t){e.$set(e.item,"ssh_key_id",t)},expression:"item.ssh_key_id"}}),r("v-select",{attrs:{label:"Type",rules:[function(e){return!!e||"Type is required"}],items:e.inventoryTypes,"item-value":"id","item-text":"name",required:"",disabled:e.formSaving},model:{value:e.item.type,callback:function(t){e.$set(e.item,"type",t)},expression:"item.type"}}),"file"===e.item.type?r("v-text-field",{attrs:{label:"Path to inventory file",rules:[function(e){return!!e||"Path to inventory file is required"}],required:"",disabled:e.formSaving},model:{value:e.item.inventory,callback:function(t){e.$set(e.item,"inventory",t)},expression:"item.inventory"}}):e._e(),"static"===e.item.type?r("v-textarea",{attrs:{label:"Inventory",rules:[function(e){return!!e||"Inventory is required"}],required:"",disabled:e.formSaving,solo:""},model:{value:e.item.inventory,callback:function(t){e.$set(e.item,"inventory",t)},expression:"item.inventory"}}):e._e()],1):e._e()},Tr=[],Rr={mixins:[he],data:function(){return{keys:null,inventoryTypes:[{id:"static",name:"Static"},{id:"file",name:"File"}]}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s()({keys:"get",url:"/api/project/".concat(e.projectId,"/keys"),responseType:"json"});case 2:e.keys=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},methods:{getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/inventory")},getSingleItemUrl:function(){return"/api/project/".concat(this.projectId,"/inventory/").concat(this.itemId)}}},Or=Rr,Cr=Object(g["a"])(Or,Dr,Tr,!1,null,null,null),Er=Cr.exports;k()(Cr,{VAlert:je["a"],VForm:we["a"],VSelect:Et["a"],VTextField:xe["a"],VTextarea:$t["a"]});var $r={mixins:[at],components:{InventoryForm:Er},methods:{getHeaders:function(){return[{text:"Name",value:"name",width:"33.33%"},{text:"Type",value:"type",width:"33.33%"},{text:"Path",value:"inventory",width:"33.33%"},{text:"Actions",value:"actions",sortable:!1}]},getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/inventory")},getSingleItemUrl:function(){return"/api/project/".concat(this.projectId,"/inventory/").concat(this.itemId)},getEventName:function(){return"i-inventory"}}},Nr=$r,Pr=Object(g["a"])(Nr,Sr,Vr,!1,null,null,null),Ur=Pr.exports;k()(Pr,{VAppBarNavIcon:st["a"],VBtn:w["a"],VDataTable:ct["a"],VIcon:Q["a"],VSpacer:I["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]});var Ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.items?r("div",[r("EditDialog",{attrs:{"save-button-text":"new"===e.itemId?"Create":"Save",title:("new"===e.itemId?"New":"Edit")+" Key","max-width":450,position:"top"},on:{save:function(t){return e.loadItems()}},scopedSlots:e._u([{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("KeyForm",{attrs:{"project-id":e.projectId,"item-id":e.itemId,"need-save":i,"need-reset":o},on:{save:n,error:a}})]}}],null,!1,230075347),model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}}),r("YesNoDialog",{attrs:{title:"Delete key",text:"Are you really want to delete this key?"},on:{yes:function(t){return e.deleteItem(e.itemId)}},model:{value:e.deleteItemDialog,callback:function(t){e.deleteItemDialog=t},expression:"deleteItemDialog"}}),r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(t){return e.showDrawer()}}}),r("v-toolbar-title",[e._v("Key Store")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.editItem("new")}}},[e._v("New Key")])],1),r("v-data-table",{staticClass:"mt-4",attrs:{headers:e.headers,items:e.items,"hide-default-footer":"","items-per-page":Number.MAX_VALUE},scopedSlots:e._u([{key:"item.actions",fn:function(t){var n=t.item;return[r("div",{staticStyle:{"white-space":"nowrap"}},[r("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(t){return e.askDeleteItem(n.id)}}},[r("v-icon",[e._v("mdi-delete")])],1),r("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(t){return e.editItem(n.id)}}},[r("v-icon",[e._v("mdi-pencil")])],1)],1)]}}],null,!1,2194686913)})],1):e._e()},Lr=[],qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.item?r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-alert",{staticClass:"pb-2",attrs:{value:e.formError,color:"error"}},[e._v(e._s(e.formError))]),r("v-text-field",{attrs:{label:"Key Name",rules:[function(e){return!!e||"Name is required"}],required:"",disabled:e.formSaving},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),r("v-select",{attrs:{label:"Type",rules:[function(e){return!!e||"Type is required"}],items:e.inventoryTypes,"item-value":"id","item-text":"name",required:"",disabled:e.formSaving},model:{value:e.item.type,callback:function(t){e.$set(e.item,"type",t)},expression:"item.type"}}),"ssh"===e.item.type?r("v-textarea",{attrs:{label:"Public Key",disabled:e.formSaving},model:{value:e.item.key,callback:function(t){e.$set(e.item,"key",t)},expression:"item.key"}}):e._e(),"ssh"===e.item.type?r("v-textarea",{attrs:{label:"Private Key",disabled:e.formSaving},model:{value:e.item.secret,callback:function(t){e.$set(e.item,"secret",t)},expression:"item.secret"}}):e._e()],1):e._e()},Fr=[],zr={mixins:[he],data:function(){return{keys:null,inventoryTypes:[{id:"ssh",name:"SSH Key"},{id:"aws",name:"AWS IAM credentials"},{id:"gcloud",name:"Google Cloud API Key"},{id:"do",name:"DigitalOcean API Key"}]}},methods:{getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/keys")},getSingleItemUrl:function(){return"/api/project/".concat(this.projectId,"/keys/").concat(this.itemId)}}},Br=zr,Mr=Object(g["a"])(Br,qr,Fr,!1,null,null,null),Hr=Mr.exports;k()(Mr,{VAlert:je["a"],VForm:we["a"],VSelect:Et["a"],VTextField:xe["a"],VTextarea:$t["a"]});var Kr={components:{KeyForm:Hr},mixins:[at],methods:{getHeaders:function(){return[{text:"Name",value:"name",width:"50%"},{text:"Type",value:"type",width:"50%"},{text:"Actions",value:"actions",sortable:!1}]},getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/keys")},getSingleItemUrl:function(){return"/api/project/".concat(this.projectId,"/keys/").concat(this.itemId)},getEventName:function(){return"i-keys"}}},Wr=Kr,Yr=Object(g["a"])(Wr,Ar,Lr,!1,null,null,null),Gr=Yr.exports;k()(Yr,{VAppBarNavIcon:st["a"],VBtn:w["a"],VDataTable:ct["a"],VIcon:Q["a"],VSpacer:I["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]});var Jr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.items&&null!=e.keys?r("div",[r("EditDialog",{attrs:{"save-button-text":"new"===e.itemId?"Create":"Save",title:("new"===e.itemId?"New":"Edit")+" Repository"},on:{save:function(t){return e.loadItems()}},scopedSlots:e._u([{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("RepositoryForm",{attrs:{"project-id":e.projectId,"item-id":e.itemId,"need-save":i,"need-reset":o},on:{save:n,error:a}})]}}],null,!1,1393318470),model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}}),r("YesNoDialog",{attrs:{title:"Delete repository",text:"Are you really want to delete this repository?"},on:{yes:function(t){return e.deleteItem(e.itemId)}},model:{value:e.deleteItemDialog,callback:function(t){e.deleteItemDialog=t},expression:"deleteItemDialog"}}),r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(t){return e.showDrawer()}}}),r("v-toolbar-title",[e._v("Playbook Repositories")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.editItem("new")}}},[e._v("New Repository")])],1),r("v-data-table",{staticClass:"mt-4",attrs:{headers:e.headers,items:e.items,"hide-default-footer":"","items-per-page":Number.MAX_VALUE},scopedSlots:e._u([{key:"item.ssh_key_id",fn:function(t){var r=t.item;return[e._v(" "+e._s(e.keys.find((function(e){return e.id===r.ssh_key_id})).name)+" ")]}},{key:"item.actions",fn:function(t){var n=t.item;return[r("div",{staticStyle:{"white-space":"nowrap"}},[r("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(t){return e.askDeleteItem(n.id)}}},[r("v-icon",[e._v("mdi-delete")])],1),r("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(t){return e.editItem(n.id)}}},[r("v-icon",[e._v("mdi-pencil")])],1)],1)]}}],null,!1,1858921276)})],1):e._e()},Xr=[],Qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.item&&null!=e.keys?r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-alert",{staticClass:"pb-2",attrs:{value:e.formError,color:"error"}},[e._v(e._s(e.formError))]),r("v-text-field",{attrs:{label:"Name",rules:[function(e){return!!e||"Name is required"}],required:"",disabled:e.formSaving},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),r("v-text-field",{attrs:{label:"Git URL",rules:[function(e){return!!e||"Repository is required"}],required:"",disabled:e.formSaving},model:{value:e.item.git_url,callback:function(t){e.$set(e.item,"git_url",t)},expression:"item.git_url"}}),r("v-select",{attrs:{label:"SSH Key",items:e.keys,"item-value":"id","item-text":"name",rules:[function(e){return!!e||"SSH Key is required"}],required:"",disabled:e.formSaving},model:{value:e.item.ssh_key_id,callback:function(t){e.$set(e.item,"ssh_key_id",t)},expression:"item.ssh_key_id"}})],1):e._e()},Zr=[],en={mixins:[he],data:function(){return{keys:null,inventoryTypes:[{id:"static",name:"Static"},{id:"file",name:"File"}]}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s()({keys:"get",url:"/api/project/".concat(e.projectId,"/keys"),responseType:"json"});case 2:e.keys=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},methods:{getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/repositories")},getSingleItemUrl:function(){return"/api/project/".concat(this.projectId,"/repositories/").concat(this.itemId)}}},tn=en,rn=Object(g["a"])(tn,Qr,Zr,!1,null,null,null),nn=rn.exports;k()(rn,{VAlert:je["a"],VForm:we["a"],VSelect:Et["a"],VTextField:xe["a"]});var an={mixins:[at],components:{RepositoryForm:nn},data:function(){return{keys:null}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s()({method:"get",url:"/api/project/".concat(e.projectId,"/keys"),responseType:"json"});case 2:e.keys=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},methods:{getHeaders:function(){return[{text:"Name",value:"name",width:"25%"},{text:"Git URL",value:"git_url",width:"50%"},{text:"SSH Key",value:"ssh_key_id",width:"25%"},{text:"Actions",value:"actions",sortable:!1}]},getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/repositories")},getSingleItemUrl:function(){return"/api/project/".concat(this.projectId,"/repositories/").concat(this.itemId)},getEventName:function(){return"i-repositories"}}},on=an,sn=Object(g["a"])(on,Jr,Xr,!1,null,null,null),cn=sn.exports;k()(sn,{VAppBarNavIcon:st["a"],VBtn:w["a"],VDataTable:ct["a"],VIcon:Q["a"],VSpacer:I["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]});var ln=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.items?r("div",[r("EditDialog",{attrs:{"save-button-text":"new"===this.itemId?"Link":"Save",title:("new"===this.itemId?"New":"Edit")+" Team Member"},on:{save:function(t){return e.loadItems()}},scopedSlots:e._u([{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("TeamMemberForm",{attrs:{"project-id":e.projectId,"item-id":e.itemId,"need-save":i,"need-reset":o},on:{save:n,error:a}})]}}],null,!1,954445673),model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}}),r("YesNoDialog",{attrs:{title:"Delete team member",text:"Are you really want to delete the team member?"},on:{yes:function(t){return e.deleteItem(e.itemId)}},model:{value:e.deleteItemDialog,callback:function(t){e.deleteItemDialog=t},expression:"deleteItemDialog"}}),r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(t){return e.showDrawer()}}}),r("v-toolbar-title",[e._v("Team")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.editItem("new")}}},[e._v("New Team Member")])],1),r("v-data-table",{staticClass:"mt-4",attrs:{headers:e.headers,items:e.items,"hide-default-footer":"","items-per-page":Number.MAX_VALUE},scopedSlots:e._u([{key:"item.admin",fn:function(t){var n=t.item;return[r("v-switch",{attrs:{inset:"",disabled:!e.isUserAdmin()},on:{change:function(t){n.admin?e.grantAdmin(n.id):e.refuseAdmin(n.id)}},model:{value:n.admin,callback:function(t){e.$set(n,"admin",t)},expression:"item.admin"}})]}},{key:"item.actions",fn:function(t){var n=t.item;return[r("v-btn",{attrs:{icon:"",disabled:!e.isUserAdmin()},on:{click:function(t){return e.askDeleteItem(n.id)}}},[r("v-icon",[e._v("mdi-delete")])],1)]}}],null,!1,433215650)})],1):e._e()},un=[],mn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.teamMembers&&null!=e.users?r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[r("v-alert",{staticClass:"pb-2",attrs:{value:e.formError,color:"error"}},[e._v(e._s(e.formError))]),r("v-select",{attrs:{label:"User",items:e.users,"item-value":"id","item-text":"name",rules:[function(e){return!!e||"User is required"}],required:"",disabled:e.formSaving},model:{value:e.item.user_id,callback:function(t){e.$set(e.item,"user_id",t)},expression:"item.user_id"}}),r("v-checkbox",{attrs:{label:"Administrator"},model:{value:e.item.admin,callback:function(t){e.$set(e.item,"admin",t)},expression:"item.admin"}})],1):e._e()},dn=[],vn={mixins:[he],data:function(){return{users:null,userId:null,teamMembers:null}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s()({method:"get",url:e.getItemsUrl(),responseType:"json"});case 2:return e.teamMembers=t.sent.data,t.next=5,s()({method:"get",url:"/api/users",responseType:"json"});case 5:e.users=t.sent.data.filter((function(t){return!e.teamMembers.some((function(e){return t.id===e.id}))}));case 6:case"end":return t.stop()}}),t)})))()},methods:{getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/users")},getSingleItemUrl:function(){return"/api/project/".concat(this.projectId,"/users/").concat(this.itemId)}}},pn=vn,fn=Object(g["a"])(pn,mn,dn,!1,null,null,null),hn=fn.exports;k()(fn,{VAlert:je["a"],VCheckbox:ke["a"],VForm:we["a"],VSelect:Et["a"]});var bn={components:{TeamMemberForm:hn},mixins:[at],methods:{grantAdmin:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s()({method:"post",url:"/api/project/".concat(t.projectId,"/users/").concat(e,"/admin"),responseType:"json"});case 2:return r.next=4,t.loadItems();case 4:case"end":return r.stop()}}),r)})))()},refuseAdmin:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s()({method:"delete",url:"/api/project/".concat(t.projectId,"/users/").concat(e,"/admin"),responseType:"json"});case 2:return r.next=4,t.loadItems();case 4:case"end":return r.stop()}}),r)})))()},getHeaders:function(){return[{text:"Name",value:"name",width:"50%"},{text:"Username",value:"username"},{text:"Email",value:"email",width:"50%"},{text:"Admin",value:"admin"},{text:"Actions",value:"actions",sortable:!1}]},getSingleItemUrl:function(){return"/api/project/".concat(this.projectId,"/users/").concat(this.itemId)},getItemsUrl:function(){return"/api/project/".concat(this.projectId,"/users?sort=name&order=asc")},getEventName:function(){return"i-repositories"},isUserAdmin:function(){var e=this;return(this.items.find((function(t){return t.id===e.userId}))||{}).admin}}},gn=bn,jn=r("b73d"),kn=Object(g["a"])(gn,ln,un,!1,null,null,null),wn=kn.exports;k()(kn,{VAppBarNavIcon:st["a"],VBtn:w["a"],VDataTable:ct["a"],VIcon:Q["a"],VSpacer:I["a"],VSwitch:jn["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]});var xn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!=e.items?r("div",[r("EditDialog",{attrs:{"save-button-text":"Save",title:"Edit User"},on:{save:function(t){return e.loadItems()}},scopedSlots:e._u([{key:"form",fn:function(t){var n=t.onSave,a=t.onError,i=t.needSave,o=t.needReset;return[r("UserForm",{attrs:{"project-id":e.projectId,"item-id":e.itemId,"need-save":i,"need-reset":o},on:{save:n,error:a}})]}}],null,!1,2674817173),model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}}),r("YesNoDialog",{attrs:{title:"Delete user",text:"Are you really want to delete this user?"},on:{yes:function(t){return e.deleteItem(e.itemId)}},model:{value:e.deleteItemDialog,callback:function(t){e.deleteItemDialog=t},expression:"deleteItemDialog"}}),r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-btn",{staticClass:"mr-4",attrs:{icon:""},on:{click:function(t){return e.returnToProjects()}}},[r("v-icon",[e._v("mdi-arrow-left")])],1),r("v-toolbar-title",[e._v("Users")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.editItem("new")}}},[e._v("New User")])],1),r("v-data-table",{staticClass:"mt-4",attrs:{headers:e.headers,items:e.items,"hide-default-footer":"","footer-props":{itemsPerPageOptions:[20]}},scopedSlots:e._u([{key:"item.external",fn:function(t){var n=t.item;return[n.external?r("v-icon",[e._v("mdi-checkbox-marked")]):r("v-icon",[e._v("mdi-checkbox-blank-outline")])]}},{key:"item.alert",fn:function(t){var n=t.item;return[n.alert?r("v-icon",[e._v("mdi-checkbox-marked")]):r("v-icon",[e._v("mdi-checkbox-blank-outline")])]}},{key:"item.admin",fn:function(t){var n=t.item;return[n.admin?r("v-icon",[e._v("mdi-checkbox-marked")]):r("v-icon",[e._v("mdi-checkbox-blank-outline")])]}},{key:"item.actions",fn:function(t){var n=t.item;return[r("div",{staticStyle:{"white-space":"nowrap"}},[r("v-btn",{staticClass:"mr-1",attrs:{icon:"",disabled:n.id===e.userId},on:{click:function(t){return e.askDeleteItem(n.id)}}},[r("v-icon",[e._v("mdi-delete")])],1),r("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(t){return e.editItem(n.id)}}},[r("v-icon",[e._v("mdi-pencil")])],1)],1)]}}],null,!1,489976516)})],1):e._e()},yn=[],_n={mixins:[at],components:{YesNoDialog:nt,UserForm:Re,EditDialog:V},methods:{getHeaders:function(){return[{text:"Name",value:"name",width:"50%"},{text:"Username",value:"username"},{text:"Email",value:"email"},{text:"Alert",value:"alert"},{text:"Admin",value:"admin"},{text:"External",value:"external",width:"50%"},{text:"Actions",value:"actions",sortable:!1}]},returnToProjects:function(){return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:f.$emit("i-open-last-project");case 1:case"end":return e.stop()}}),e)})))()},getItemsUrl:function(){return"/api/users"},getSingleItemUrl:function(){return"/api/users/".concat(this.itemId)},getEventName:function(){return"i-user"}}},In=_n,Sn=Object(g["a"])(In,xn,yn,!1,null,null,null),Vn=Sn.exports;k()(Sn,{VBtn:w["a"],VDataTable:ct["a"],VIcon:Q["a"],VSpacer:I["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]});var Dn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"auth"},[r("v-container",{staticClass:"pa-0",attrs:{fluid:"","fill-height":"","align-center":"","justify-center":""}},[r("v-form",{ref:"signInForm",staticStyle:{width:"300px",height:"300px"},attrs:{"lazy-validation":""},model:{value:e.signInFormValid,callback:function(t){e.signInFormValid=t},expression:"signInFormValid"}},[r("h3",{staticClass:"text-center mb-8"},[e._v("SEMAPHORE")]),r("v-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{value:null!=e.signInError,color:"error"}},[e._v(e._s(e.signInError))]),r("v-text-field",{attrs:{label:"Username",rules:e.usernameRules,autofocus:"",required:"",disabled:e.signInProcess},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"Password",rules:[function(e){return!!e||"Password is required"}],type:"password",required:"",disabled:e.signInProcess},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signIn(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-btn",{attrs:{color:"primary",disabled:e.signInProcess,block:""},on:{click:e.signIn}},[e._v(" Sign In ")])],1)],1)],1)},Tn=[],Rn={data:function(){return{signInFormValid:!1,signInError:null,signInProcess:!1,password:"",username:"",email:"",emailRules:[function(e){return!!e||"Email is required"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=6||"Password too short. Min 6 characters"}],usernameRules:[function(e){return!!e||"Username is required"}]}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isAuthenticated()&&(document.location="/");case 1:case"end":return t.stop()}}),t)})))()},methods:{isAuthenticated:function(){return document.cookie.includes("semaphore=")},signIn:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.signInError=null,e.$refs.signInForm.validate()){t.next=3;break}return t.abrupt("return");case 3:return e.signInProcess=!0,t.prev=4,t.next=7,s()({method:"post",url:"/api/auth/login",responseType:"json",data:{auth:e.username,password:e.password}});case 7:document.location="/",t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](4),console.log(t.t0),401===t.t0.response.status?e.signInError="Incorrect login or password":e.signInError=d(t.t0);case 14:return t.prev=14,e.signInProcess=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[4,10,14,17]])})))()}}},On=Rn,Cn=(r("c9b5"),Object(g["a"])(On,Dn,Tn,!1,null,null,null)),En=Cn.exports;k()(Cn,{VAlert:je["a"],VBtn:w["a"],VContainer:se["a"],VForm:we["a"],VTextField:xe["a"]});var $n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(t){return e.showDrawer()}}}),r("v-toolbar-title",[e._v("New Project")]),r("v-spacer")],1),r("div",{staticClass:"project-settings-form"},[r("div",{staticStyle:{height:"220px"}},[r("ProjectForm",{ref:"editForm",attrs:{"item-id":"new"}})],1),r("div",{staticClass:"text-right"},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.createProject()}}},[e._v("Create")])],1)])],1)},Nn=[],Pn={components:{ProjectForm:_e},data:function(){return{}},methods:{showDrawer:function(){f.$emit("i-show-drawer")},createProject:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.editForm.save();case 2:if(r=t.sent,r){t.next=5;break}return t.abrupt("return");case 5:f.$emit("i-project",{action:"new",item:r});case 6:case"end":return t.stop()}}),t)})))()}}},Un=Pn,An=Object(g["a"])(Un,$n,Nn,!1,null,null,null),Ln=An.exports;k()(An,{VAppBarNavIcon:st["a"],VBtn:w["a"],VSpacer:I["a"],VToolbar:mt["a"],VToolbarTitle:dt["a"]}),n["a"].use(Ge["a"]);var qn=[{path:"/project/new",component:Ln},{path:"/project/:projectId",redirect:"/project/:projectId/history"},{path:"/project/:projectId/history",component:pt},{path:"/project/:projectId/activity",component:kt},{path:"/project/:projectId/settings",component:St},{path:"/project/:projectId/templates",component:sr},{path:"/project/:projectId/templates/:templateId",component:vr},{path:"/project/:projectId/environment",component:Ir},{path:"/project/:projectId/inventory",component:Ur},{path:"/project/:projectId/repositories",component:cn},{path:"/project/:projectId/keys",component:Gr},{path:"/project/:projectId/team",component:wn},{path:"/auth/login",component:En},{path:"/users",component:Vn}],Fn=new Ge["a"]({mode:"history",routes:qn}),zn=Fn,Bn=r("f309");n["a"].use(Bn["a"]);var Mn=new Bn["a"]({});r("c1c3");s.a.defaults.baseURL=document.baseURI,n["a"].config.productionTip=!1,n["a"].filter("formatDate",(function(e){return e?i()(String(e)).fromNow():"—"})),n["a"].filter("formatTime",(function(e){return e?i()(String(e)).format("LTS"):"—"})),n["a"].filter("formatMilliseconds",(function(e){if(null==e||""===e)return"—";var t;if("string"===typeof e)t=parseInt(e,10);else if("number"===typeof e)t=e;else if(Array.isArray(e)){if(2!==e.length)throw new Error("formatMilliseconds: invalid value format");if(null==e[0]||""===e[0])return"—";var r,n="string"===typeof e[0]?new Date(e[0]):e[0];r=null==e[1]||""===e[1]?Date.now():"string"===typeof e[1]?new Date(e[1]):e[1],t=r-n}return i.a.duration(t,"milliseconds").humanize()})),new n["a"]({router:zn,vuetify:Mn,render:function(e){return e(Ye)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"6d42":function(e,t,r){},9279:function(e,t,r){},"9c0c":function(e,t,r){},b187:function(e,t,r){},c1c3:function(e,t,r){},c9b5:function(e,t,r){"use strict";var n=r("9279"),a=r.n(n);a.a},cc42:function(e,t,r){"use strict";var n=r("6d42"),a=r.n(n);a.a},e1c6:function(e,t,r){}});
//# sourceMappingURL=app.20709c68.js.map